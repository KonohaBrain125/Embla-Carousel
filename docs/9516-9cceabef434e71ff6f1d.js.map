{"version":3,"file":"9516-9cceabef434e71ff6f1d.js","mappings":"uIAAA,2sD","sources":["webpack://embla-carousel-docs/./src/components/Sandbox/Vanilla/SandboxFilesDist/Opacity/tween-opacity.ts"],"sourcesContent":["export default \"import { EmblaCarouselType } from 'embla-carousel'\\n \\nconst TWEEN_FACTOR = 4.2\\n \\nconst numberWithinRange = (number: number, min: number, max: number): number =>\\n  Math.min(Math.max(number, min), max)\\n \\nconst calculateTweenValuesOpacity = (emblaApi: EmblaCarouselType): number[] => {\\n  const engine = emblaApi.internalEngine()\\n  const scrollProgress = emblaApi.scrollProgress()\\n \\n  return emblaApi.scrollSnapList().map((scrollSnap, index) => {\\n    if (!emblaApi.slidesInView().includes(index)) return 0\\n    let diffToTarget = scrollSnap - scrollProgress\\n \\n    if (engine.options.loop) {\\n      engine.slideLooper.loopPoints.forEach((loopItem) => {\\n        const target = loopItem.target()\\n        if (index === loopItem.index && target !== 0) {\\n          const sign = Math.sign(target)\\n          if (sign === -1) diffToTarget = scrollSnap - (1 + scrollProgress)\\n          if (sign === 1) diffToTarget = scrollSnap + (1 - scrollProgress)\\n        }\\n      })\\n    }\\n    const tweenValue = 1 - Math.abs(diffToTarget * TWEEN_FACTOR)\\n    return numberWithinRange(tweenValue, 0, 1)\\n  })\\n}\\n \\nexport const setupTweenOpacity = (\\n  emblaApi: EmblaCarouselType\\n): {\\n  applyTweenOpacity: () => void\\n  removeTweenOpacity: () => void\\n} => {\\n  const tweenNodes = emblaApi.slideNodes()\\n \\n  const applyTweenOpacity = (): void => {\\n    const tweenValues = calculateTweenValuesOpacity(emblaApi)\\n    tweenValues.forEach((tweenValue, index) => {\\n      tweenNodes[index].style.opacity = tweenValue.toString()\\n    })\\n  }\\n \\n  const removeTweenOpacity = (): void => {\\n    tweenNodes.forEach((slide) => slide.removeAttribute('style'))\\n  }\\n \\n  return {\\n    applyTweenOpacity,\\n    removeTweenOpacity\\n  }\\n}\\n\";"],"names":[],"sourceRoot":""}